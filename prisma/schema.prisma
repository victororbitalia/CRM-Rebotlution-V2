// Este es un ejemplo de cómo se vería el esquema ampliado
// Deberías integrar estos cambios en tu archivo schema.prisma existente

model Table {
  id          String   @id @default(cuid())
  number      Int
  capacity    Int
  location    String   // 'interior' | 'terraza' | 'exterior' | 'privado'
  isAvailable Boolean  @default(true)
  
  // Nuevos campos para el mapa visual
  position    Json?    // { x: number, y: number }
  size        Json?    // { width: number, height: number }
  shape       String   @default("square") // 'square' | 'rectangle' | 'circle'
  status      String   @default("available") // 'available' | 'reserved' | 'occupied' | 'blocked'
  
  // Relaciones
  reservations Reservation[]
  zoneId      String?
  zone        Zone?    @relation(fields: [zoneId], references: [id])
  
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model Zone {
  id          String   @id @default(cuid())
  name        String
  type        String   // 'interior' | 'terraza' | 'exterior' | 'privado'
  dimensions  Json     // { width: number, height: number }
  position    Json     // { x: number, y: number }
  color       String   @default("#f3f4f6")
  
  // Relaciones
  tables      Table[]
  
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model Reservation {
  id                String   @id @default(cuid())
  customerName      String
  customerEmail     String
  customerPhone     String
  date              DateTime
  time              String
  guests            Int
  status            String   @default("pending") // 'pending' | 'confirmed' | 'seated' | 'completed' | 'cancelled'
  specialRequests   String?
  
  // Relaciones
  tableId           String?
  table             Table?   @relation(fields: [tableId], references: [id])
  
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
}

model RestaurantSettings {
  id    String  @id @default("settings-singleton")
  data  Json    // Contiene toda la configuración del restaurante
  
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
